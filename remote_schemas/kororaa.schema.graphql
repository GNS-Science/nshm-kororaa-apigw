schema {
  query: QueryRoot
}

"""Exposes a URL that specifies the behavior of this scalar."""
directive @specifiedBy(
  """The URL that specifies the behavior of this scalar."""
  url: String!
) on SCALAR

enum ContentFormatEnum {
  Raw
  Markdown
}

enum ContentStatusEnum {
  Undefined
  Draft
  Published
  Deprecated
}

"""
The `DateTime` scalar type represents a DateTime
value as specified by
[iso8601](https://en.wikipedia.org/wiki/ISO_8601).
"""
scalar DateTime

"""All the info about a given disagg report."""
type DisaggregationReport {
  hazard_model: String
  location: HazardCodedLocation
  imt: String
  poe: Float
  vs30: Int
  inv_time: Int
  report_url: String
}

type DisaggregationReportResult {
  ok: Boolean
  reports: [DisaggregationReport]
}

type HazardCodedLocation {
  lat: Float
  lon: Float
  code: String
  name: String
  key: String
}

"""An object with an ID"""
interface Node {
  """The ID of the object"""
  id: ID!
}

type Person {
  name: String
}

enum ProjectAreaEnum {
  Core
  GMCM
  SRM
}

"""This is the entry point for all graphql query operations"""
type QueryRoot {
  node(
    """The ID of the object"""
    id: ID!
  ): Node

  """About this API """
  about: String

  """API version"""
  version: String
  disaggregation_reports: DisaggregationReportResult
  science_reports: ScienceReportResult
  textual_content(index: String, tags: [String]): TextualContentResult
}

enum ReportStatusEnum {
  Undefined
  Review
  Published
}

"""NSHM Science report publication details."""
type ScienceReport {
  title: String
  topic: String
  filename: String
  area: ProjectAreaEnum
  status: ReportStatusEnum

  """Internal notes, not for UI."""
  notes: String

  """publication date"""
  publication_date: DateTime
  report_number: String
  lead_author: Person
  reviewers: [Person]
  bibliographic_ref: String
}

type ScienceReportResult {
  ok: Boolean
  reports: [ScienceReport]
}

"""NSHM textual content details."""
type TextualContent {
  index: String
  content_type: ContentFormatEnum
  author: String
  tags: [String]
  status: ContentStatusEnum

  """created date"""
  created: DateTime
  text: String
}

type TextualContentResult {
  ok: Boolean
  content: [TextualContent]
}

